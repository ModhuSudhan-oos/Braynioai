<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us | Braynio</title>
    <meta name="description" content="Get in touch with Braynio for support or inquiries.">
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
</head>
<body class="content-page-body">
    <header class="header">
        <div class="header-container">
            <div class="logo-container">
                <div class="logo">üß†</div>
                <span>Braynio</span>
            </div>
            <nav class="nav-menu">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="index.html#tool-grid-section">Tools</a></li>
                    <li><a href="index.html#categories">Categories</a></li>
                    <li><a href="index.html#blog-section">Blog</a></li>
                    <li><a href="index.html#subscribe">Subscribe</a></li>
                </ul>
            </nav>
            <div class="cta-buttons">
                <button class="subscribe-btn" onclick="window.location.href='index.html#subscribe'">Subscribe</button>
            </div>
            <div class="theme-toggle" id="themeToggle">
                <span class="toggle-icon">‚òÄÔ∏è</span>
            </div>
        </div>
    </header>

    <div class="content-page">
        <button onclick="window.location.href='index.html'" style="margin-bottom: 2rem; background: var(--secondary); border: none; padding: 0.8rem 1.5rem; border-radius: 50px; color: white; cursor: pointer;">Go Back to Home</button>
        <h1>Contact Us</h1>
        <p>Have questions, feedback, or need support? We'd love to hear from you!</p>
        <p>You can reach us directly via email at: **toolgenixs@gmail.com**</p>
        <p>Alternatively, use the contact form below:</p>

        <form id="contactForm" style="margin-top: 1.5rem;">
            <div class="form-group">
                <label for="contactName">Name:</label>
                <input type="text" id="contactName" placeholder="Your Name" required>
            </div>
            <div class="form-group">
                <label for="contactEmail">Email:</label>
                <input type="email" id="contactEmail" placeholder="Your Email" required>
            </div>
            <div class="form-group">
                <label for="contactMessage">Message:</label>
                <textarea id="contactMessage" rows="5" placeholder="Your Message" required></textarea>
            </div>
            <button type="submit" class="subscribe-btn">Send Message</button>
            <p id="contactFormStatus" style="margin-top: 10px;"></p>
        </form>
    </div>

    <script>
        // Your Firebase configuration (same as in main.js)
        const firebaseConfig = {
            apiKey: "AIzaSyAFIonE-mcnhxFPDSLFiiIs1-tURXqgGYE",
            authDomain: "modhusudhan-654e7.firebaseapp.com",
            projectId: "modhusudhan-654e7",
            storageBucket: "modhusudhan-654e7.firebasestorage.app",
            messagingSenderId: "221731458319",
            appId: "1:221731458319:web:127f4d6f18abf1451e027a",
            measurementId: "G-S8WE56VM8X"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore(); // Firestore instance for contact form

        // Include the theme toggle and contact form submission logic here
        // or ensure main.js is loaded and its functions are globally accessible.
        // For simplicity, re-defining `validateEmail` and `handleContactFormSubmit`
        // if main.js is not guaranteed to be loaded before this script runs.
        // If main.js is always loaded, just ensure handleContactFormSubmit is global.

        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        async function handleContactFormSubmit(event) {
            event.preventDefault();
            const name = document.getElementById('contactName').value;
            const email = document.getElementById('contactEmail').value;
            const message = document.getElementById('contactMessage').value;
            const statusElem = document.getElementById('contactFormStatus');

            if (!name || !email || !message) {
                statusElem.textContent = 'Please fill in all fields.';
                statusElem.style.color = 'red';
                return;
            }
            if (!validateEmail(email)) {
                statusElem.textContent = 'Please enter a valid email address.';
                statusElem.style.color = 'red';
                return;
            }

            statusElem.textContent = 'Sending message...';
            statusElem.style.color = 'blue';

            try {
                await db.collection('contactMessages').add({
                    name: name,
                    email: email,
                    message: message,
                    timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                    // This email will be saved in Firebase. You'd need a Cloud Function
                    // to actually send it to toolgenixs@gmail.com
                });
                statusElem.textContent = 'Message sent successfully! We will get back to you soon.';
                statusElem.style.color = 'green';
                document.getElementById('contactName').value = '';
                document.getElementById('contactEmail').value = '';
                document.getElementById('contactMessage').value = '';
            } catch (error) {
                console.error("Error sending contact message:", error);
                statusElem.textContent = `Error sending message: ${error.message}`;
                statusElem.style.color = 'red';
            }
        }

        // Event listener for the form
        document.addEventListener('DOMContentLoaded', () => {
            const contactForm = document.getElementById('contactForm');
            if (contactForm) {
                contactForm.addEventListener('submit', handleContactFormSubmit);
            }

            // Theme toggle for static pages
            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) {
                themeToggle.addEventListener('click', () => {
                    document.body.classList.toggle('dark-mode');
                    const isDarkMode = document.body.classList.contains('dark-mode');
                    localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');
                    document.querySelector('.theme-toggle .toggle-icon').textContent = isDarkMode ? 'üåô' : '‚òÄÔ∏è';
                });

                // Set initial theme for static pages
                const savedTheme = localStorage.getItem('theme');
                if (savedTheme === 'dark') {
                    document.body.classList.add('dark-mode');
                    document.querySelector('.theme-toggle .toggle-icon').textContent = 'üåô';
                } else if (savedTheme === 'light') {
                    document.body.classList.remove('dark-mode');
                    document.querySelector('.theme-toggle .toggle-icon').textContent = '‚òÄÔ∏è';
                } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    document.body.classList.add('dark-mode');
                    document.querySelector('.theme-toggle .toggle-icon').textContent = 'üåô';
                } else {
                    document.querySelector('.theme-toggle .toggle-icon').textContent = '‚òÄÔ∏è';
                }
            }
        });
    </script>
</body>
</html>
